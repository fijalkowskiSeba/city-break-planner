<div class="container">
  <mat-spinner *ngIf="waitingForData"></mat-spinner>

  <div class="left-column column">
    <div *ngIf="trip">
      <h1>{{trip.name}}</h1>
    </div>

    <div class="locations-list">
      <mat-accordion>
        <mat-expansion-panel *ngFor="let location of trip?.tripPoints">
          <mat-expansion-panel-header>
            <mat-panel-title>
              {{location.name | stringToXComma : 2}}
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="action-buttons-container">
            <button mat-raised-button color="primary" class="action-button" (click)="onAddPhoto()">Add photo</button>
            <button mat-raised-button color="accent" class="action-button" (click)="onAddComment()">Add comment</button>
            <button mat-raised-button class="action-button" (click)="onAddBill(location)">Add bill</button>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
    <div style="margin: 16px 0;">
      <button mat-raised-button color="primary" (click)="goBack()">Go back to trip</button>
    </div>
  </div>
  <div class="right-column column">
    <mat-button-toggle-group [(ngModel)]="rightColumnDisplay" aria-label="Font Style" (change)="onToggleChange()">
      <mat-button-toggle value="photos">Photos</mat-button-toggle>
      <mat-button-toggle value="comments">Comments</mat-button-toggle>
      <mat-button-toggle value="bills">Bills</mat-button-toggle>
    </mat-button-toggle-group>
    <div *ngIf="rightColumnDisplay === 'photos'" class="photos-list right-column-content">

    </div>
    <div *ngIf="rightColumnDisplay === 'comments'" class="comments-list right-column-content">

    </div>
    <div *ngIf="rightColumnDisplay === 'bills'" class="bills-list right-column-content">
      <div *ngFor="let tripPoint of trip?.tripPoints">
        <div *ngIf="tripPoint.tripBills.length > 0">
          <div class="location-name">{{tripPoint.name | stringToXComma : 2}}</div>
          <mat-card *ngFor="let bill of tripPoint.tripBills">
            <div class="bill-card">
              <div class="bill-details">
                {{bill.price}} {{bill.currency}}&nbsp;&nbsp;
                {{bill.name}}
              </div>
              <div class="bill-actions">
                <button mat-raised-button color="primary" (click)="onEditBill(tripPoint,bill)">
                  Edit
                </button>
                <button mat-raised-button (click)="onDeleteBill(tripPoint, bill)">
                  X
                </button>
              </div>
            </div>
          </mat-card>
        </div>
      </div>
    </div>
  </div>
</div>



